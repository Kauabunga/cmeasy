{"version":3,"sources":["../../../../server/api/generated/generated.controller.crud.js"],"names":[],"mappings":";;;;;;;;;AASA,YAAY,CAAC;;;;;;;;sBAEC,QAAQ;;;;wBACA,UAAU;;;;;;qBAMjB,UAAS,eAAe,EAAC;;AAEtC,SAAO;AACL,SAAK,EAAE,KAAK;AACZ,UAAM,EAAE,MAAM;AACd,QAAI,EAAE,IAAI;AACV,WAAO,EAAE,OAAO;AAChB,WAAO,EAAE,OAAO;GACjB,CAAC;;;;;;AAOF,WAAS,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE;AACvB,WAAO,eAAe,CAAC,KAAK,EAAE,CAC3B,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,SACxB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;GAC5B;;;;;;AAOD,WAAS,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE;AACtB,WAAO,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CACvC,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,CAC/B,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,SACxB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;GAC5B;;;;;;AAOD,WAAS,MAAM,CAAC,GAAG,EAAE,GAAG,EAAE;AACxB,WAAO,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CACpC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,SAC7B,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;GAC5B;;;;;;AAOD,WAAS,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE;AACzB,WAAO,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAC1C,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,CAC/B,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,SACxB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;GAC5B;;;;;;;AAQD,WAAS,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE;AACzB,WAAO,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAC1C,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,CAC/B,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,SACxB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;GAC5B;CAEF;;;;;AAOD,SAAS,WAAW,CAAC,GAAG,EAAE,UAAU,EAAE;AACpC,YAAU,GAAG,UAAU,IAAI,GAAG,CAAC;AAC/B,SAAO,UAAS,GAAG,EAAE;AACnB,WAAO,CAAC,KAAK,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC;AACvC,WAAO,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GACzC,CAAC;CACH;;;;;;;;AAQD,SAAS,kBAAkB,CAAC,GAAG,EAAE,UAAU,EAAE;AAC3C,YAAU,GAAG,UAAU,IAAI,GAAG,CAAC;AAC/B,SAAO,UAAS,MAAM,EAAE;AACtB,QAAI,MAAM,EAAE;AACV,aAAO,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC5C,MACI;AACH,aAAO,MAAM,CAAC;KACf;GACF,CAAC;CACH;;;;;;;AAOD,SAAS,oBAAoB,CAAC,GAAG,EAAE;AACjC,SAAO,UAAS,MAAM,EAAE;AACtB,QAAI,CAAC,MAAM,EAAE;AACX,SAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;AACtB,aAAO,IAAI,CAAC;KACb;AACD,WAAO,MAAM,CAAC;GACf,CAAC;CACH","file":"generated.controller.crud.js","sourcesContent":["/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/generated              ->  index\n * POST    /api/generated              ->  create\n * GET     /api/generated/:id          ->  show\n * PUT     /api/generated/:id          ->  update\n * DELETE  /api/generated/:id          ->  destroy\n */\n\n'use strict';\n\nimport _ from 'lodash';\nimport {Promise} from 'bluebird';\n\n\n/**\n *\n */\nexport default function(modelController){\n\n  return {\n    index: index,\n    create: create,\n    show: show,\n    history: history,\n    destroy: destroy\n  };\n\n\n  /**\n   * Gets a list of Generateds\n   *\n   */\n  function index(req, res) {\n    return modelController.index()\n      .then(responseWithResult(res))\n      .catch(handleError(res));\n  }\n\n\n  /**\n   * Gets a single Generated from the DB\n   *\n   */\n  function show(req, res) {\n    return modelController.show(req.params.id)\n      .then(handleEntityNotFound(res))\n      .then(responseWithResult(res))\n      .catch(handleError(res));\n  }\n\n\n  /**\n   * Creates a new Generated in the DB\n   *\n   */\n  function create(req, res) {\n    return modelController.create(req.body)\n      .then(responseWithResult(res, 201))\n      .catch(handleError(res));\n  }\n\n\n  /**\n   * Gets the history of an item\n   *\n   */\n  function history(req, res) {\n    return modelController.history(req.params.id)\n      .then(handleEntityNotFound(res))\n      .then(responseWithResult(res))\n      .catch(handleError(res));\n  }\n\n\n  /**\n   * Deletes a Generated from the DB\n   *\n   * TODO implement\n   */\n  function destroy(req, res) {\n    return modelController.destroy(req.params.id)\n      .then(handleEntityNotFound(res))\n      .then(responseWithResult(res))\n      .catch(handleError(res));\n  }\n\n}\n\n\n\n/**\n *\n */\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    console.error('Controller Error', err);\n    return res.status(statusCode).send(err);\n  };\n}\n\n/**\n *\n * @param res\n * @param statusCode\n * @returns {Function}\n */\nfunction responseWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function(entity) {\n    if (entity) {\n      return res.status(statusCode).json(entity);\n    }\n    else {\n      return entity;\n    }\n  };\n}\n\n/**\n *\n * @param res\n * @returns {Function}\n */\nfunction handleEntityNotFound(res) {\n  return function(entity) {\n    if (!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\n"]}